(function(){"use strict";var e={5973:function(e,t,n){var a=n(9242),o=n(3396);function r(e,t,n,a,r,i){const l=(0,o.up)("Header"),s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l,{onSearch:i.search},null,8,["onSearch"]),(0,o.Wm)(s,{searchName:r.searchName},null,8,["searchName"])],64)}var i=n.p+"img/menu.61587210.svg";const l=e=>((0,o.dD)("data-v-3630f9e0"),e=e(),(0,o.Cn)(),e),s={class:"header"},c=l((()=>(0,o._)("img",{src:i},null,-1))),d=[c];function u(e,t,n,a,r,i){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("input",{type:"text",placeholder:"        Поиск",onInput:t[0]||(t[0]=(...e)=>i.searching&&i.searching(...e))},null,32),(0,o.Wm)(l,{class:"nav",to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1}),(0,o.Wm)(l,{to:"/character"}),(0,o._)("div",{class:"menu",onClick:t[1]||(t[1]=(...e)=>i.openEditMenu&&i.openEditMenu(...e))},d)])}n(560);var h=n(1020),p=n(4161);function m(e,t){let n="";for(let a=e;a<=t;a++)n+=a+",";return p.Z.get("https://rickandmortyapi.com/api/character/"+n)}function g(e){return p.Z.get("https://rickandmortyapi.com/api/character/"+e)}async function f(e){let t={};await p.Z.get("https://rickandmortyapi.com/api/episode/"+e).then((e=>{t.currEpisode=e.data}));let n=t.currEpisode.characters,a=[];return await Promise.allSettled(n.map((e=>p.Z.get(e)))).then((e=>{e.forEach((e=>{let t=/\D/g,n=e.value.data.url.replace(t,"");a.push({characterId:n,img:e.value.data.image,name:e.value.data.name})}))})),t.currImages=a,t}const v=(0,h.Q_)("counter",{state:()=>({characters:[],searchName:null}),getters:{getAll:e=>e.characters,getFiltred:e=>t=>{if(console.log("name--",t),0==t.length)return e.characters;let n=e.characters.filter((e=>{let n=e.name.toLowerCase(),a=n.includes(t.toLowerCase());if(console.log(n,t.toLowerCase(),a),1==a)return!0}));return n}},actions:{setSearch(e){console.log(e),this.searchName=e},getMultipleCharacters(e,t){m(e,t).then((e=>e.data.forEach((e=>{this.characters.push(e)}))))},getCharacter(e){console.log(">>",e),g(e).then((e=>{this.characters=e.data,console.log(">>",this.characters)}))},getEpisode(e){f(e).then((e=>this.currEpisode=e))}}});var w={setup(){const e=v();return{userStore:e}},name:"HeaderMain",methods:{openEditMenu(){console.log("dede"),this.$emit("open-menu")},searching(e){console.log(e.target.value),this.$emit("search",e.target.value)}}},_=n(89);const k=(0,_.Z)(w,[["render",u],["__scopeId","data-v-3630f9e0"]]);var y=k,D={name:"App",components:{Header:y},data(){return{searchName:null}},methods:{search(e){console.log("name>",e),this.searchName=e}}};const b=(0,_.Z)(D,[["render",r]]);var C=b,z=n(2483),E=n(7139);const S=e=>((0,o.dD)("data-v-014e5332"),e=e(),(0,o.Cn)(),e),F={class:"contener__input"},H=S((()=>(0,o._)("label",{for:"alive"},"Alive",-1))),L=S((()=>(0,o._)("label",{for:"dead"},"Dead",-1))),I=S((()=>(0,o._)("label",{for:"unknown"},"Unknown",-1))),O={class:"content"},A=["src","alt"],Z={class:"content-item__episode"},x=S((()=>(0,o._)("span",null," ",-1)));function N(e,t,n,r,i,l){const s=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",F,[H,(0,o.wy)((0,o._)("input",{type:"checkbox",name:"alive",id:"1",value:"alive","onUpdate:modelValue":t[0]||(t[0]=e=>i.checkedFields=e),onChange:t[1]||(t[1]=(...e)=>l.select&&l.select(...e))},null,544),[[a.e8,i.checkedFields]]),L,(0,o.wy)((0,o._)("input",{type:"checkbox",name:"dead",id:"2",value:"dead","onUpdate:modelValue":t[2]||(t[2]=e=>i.checkedFields=e),onChange:t[3]||(t[3]=(...e)=>l.select&&l.select(...e))},null,544),[[a.e8,i.checkedFields]]),I,(0,o.wy)((0,o._)("input",{type:"checkbox",name:"unknown",id:"3",value:"unknown","onUpdate:modelValue":t[4]||(t[4]=e=>i.checkedFields=e),onChange:t[5]||(t[5]=(...e)=>l.select&&l.select(...e))},null,544),[[a.e8,i.checkedFields]])]),(0,o._)("div",O,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.data,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"content__item"},[(0,o.Wm)(s,{to:"/character/"+e.id},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.image,alt:e.id},null,8,A),(0,o._)("h2",null,(0,E.zw)(e.name),1)])),_:2},1032,["to"]),(0,o._)("div",null,(0,E.zw)(e.species),1),(0,o._)("div",null,"Status: "+(0,E.zw)(e.status),1),(0,o._)("div",Z,[(0,o.Uk)(" Episodes:   "),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.getCountLinck(e.episode),(e=>((0,o.wg)(),(0,o.iD)("div",{key:e},[(0,o.Wm)(s,{to:"/episode/"+e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,E.zw)(e),1)])),_:2},1032,["to"]),x])))),128))])])))),128))])],64)}function W(e,t){if(0==e.length)return t;let n=t.filter((t=>{let n=t.name.toLowerCase(),a=n.includes(e.toLowerCase());if(console.log(n,e.toLowerCase(),a),1==a)return!0}));return n}function Y(e,t){let n=[],a=[];return 0==e.length?t:(e.forEach((e=>{n=o(t,e),a=a.concat(n)})),a);function o(e,t){let n=[];return e.forEach((e=>{e.status.toLowerCase()==t&&n.push(e)})),n}}var M={setup(){const e=v();return{userStore:e}},props:{searchName:Object},name:"App",data(){return{from:null,to:null,data:this.userStore.getAll,checkedFields:[],oldDataFiltered:this.userStore.getAll,oldDataSelected:this.userStore.getAll,name:""}},mounted(){window.addEventListener("scroll",this.handleScroll),this.userStore.getMultipleCharacters(0,10),this.from=11,this.to=12},watch:{searchName:function(e){this.name=e,this.filter(e)}},methods:{select(){this.allFiltred()},filter(){this.allFiltred()},allFiltred(){console.log(this.checkedFields);let e=this.name,t=this.userStore.getAll;t=W(e,t),t=Y(this.checkedFields,t),this.data=t},getCountLinck(e){let t=[],n=e.length<5?e.length:5;for(let a=0;a<n;a++){let n=/\D/g,o=e[a].replace(n,"");t.push(o)}return t},handleScroll(){const e=document.body.offsetHeight,t=window.innerHeight,n=window.scrollY,a=e-t/4,o=n+t;o>=a&&(this.userStore.getMultipleCharacters(this.from,this.to),this.from+=2,this.to+=2,console.log(this.from,this.to))}}};const U=(0,_.Z)(M,[["render",N],["__scopeId","data-v-014e5332"]]);var $=U;const j={key:0},q={key:1,class:"content"},P={class:"content__item"},K=["src"];function T(e,t,n,a,r,i){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[r.loading?((0,o.wg)(),(0,o.iD)("span",j,"Идет загрузка...")):(0,o.kq)("",!0),r.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",q,[(0,o._)("h1",null,(0,E.zw)(r.data.name),1),(0,o._)("h2",null,(0,E.zw)(r.data.species),1),(0,o._)("div",P,[(0,o._)("img",{src:r.data.image,alt:"item.name "},null,8,K)]),(0,o.Uk)("Location: "),(0,o.Wm)(l,{to:"/location/"+i.getLocationId()},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,E.zw)(r.data.location.name),1)])),_:1},8,["to"])]))],64)}var V={name:"App",data(){return{loading:!1,data:null}},created(){console.log(this.$route.params.id),this.loading=!0,g(this.$route.params.id).then((e=>{this.loading=!1,this.data=e.data,console.log(this.data)}))},methods:{getLocationId(){let e=this.data.location.url,t=/\D/g;return e.replace(t,"")}}};const B=(0,_.Z)(V,[["render",T],["__scopeId","data-v-2ed67d3e"]]);var Q=B;const G=e=>((0,o.dD)("data-v-82fe84d6"),e=e(),(0,o.Cn)(),e),J={key:0},R={key:1,class:"content"},X=G((()=>(0,o._)("h1",null,"Episodes",-1))),ee={class:"content-img"},te=["src"];function ne(e,t,n,a,r,i){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[r.loading?((0,o.wg)(),(0,o.iD)("span",J,"Идет загрузка...")):(0,o.kq)("",!0),r.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",R,[X,(0,o._)("h2",null,'"'+(0,E.zw)(r.data.currEpisode.name)+'"',1),(0,o._)("span",null,(0,E.zw)(r.data.currEpisode.air_date),1),(0,o._)("div",ee,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.data.currImages,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"content__item"},[(0,o.Wm)(l,{to:"/character/"+e.characterId},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.img,alt:"item.name ",class:""},null,8,te),(0,o._)("span",null,(0,E.zw)(e.name),1)])),_:2},1032,["to"])])))),128))])]))],64)}var ae={name:"App",data(){return{data:null,loading:!1}},created(){this.loading=!0,f(this.$route.params.id).then((e=>{this.loading=!1,this.data=e,this.data.currImages}))}};const oe=(0,_.Z)(ae,[["render",ne],["__scopeId","data-v-82fe84d6"]]);var re=oe,ie=n.p+"img/planet.3fbd5b84.svg";const le=e=>((0,o.dD)("data-v-d4d667ee"),e=e(),(0,o.Cn)(),e),se={key:0},ce={key:1,class:"content"},de=le((()=>(0,o._)("div",{class:"content__item"},[(0,o._)("img",{src:ie})],-1)));function ue(e,t,n,a,r,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[r.loading?((0,o.wg)(),(0,o.iD)("span",se,"Идет загрузка...")):(0,o.kq)("",!0),r.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",ce,[(0,o._)("h1",null,"Lacation "+(0,E.zw)(r.data.name),1),(0,o._)("h2",null,"Type: "+(0,E.zw)(r.data.type),1),(0,o._)("h2",null,"Dimension: "+(0,E.zw)(r.data.dimension),1),de]))],64)}function he(e){return console.log(e),p.Z.get("https://rickandmortyapi.com/api/location/"+e)}var pe={name:"App",data(){return{loading:!1,data:null}},created(){console.log(this.$route.params.id),this.loading=!0,console.log(this.$route.params.id),he(this.$route.params.id).then((e=>{this.loading=!1,this.data=e.data,console.log(this.data)}))}};const me=(0,_.Z)(pe,[["render",ue],["__scopeId","data-v-d4d667ee"]]);var ge=me;const fe=[{path:"/",name:"home",component:$},{path:"/character/:id",name:"character",component:Q},{path:"/episode/:id",name:"episode",component:re},{path:"/location/:id",name:"location",component:ge}],ve=(0,z.p7)({history:(0,z.PO)("/svayz/"),routes:fe});var we=ve;(0,a.ri)(C).use(we).use((0,h.WB)()).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,r){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],r=e[d][2];for(var l=!0,s=0;s<a.length;s++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[s])}))?a.splice(s--,1):(l=!1,r<i&&(i=r));if(l){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/svayz/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,i=a[0],l=a[1],s=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(s)var d=s(n)}for(t&&t(a);c<i.length;c++)r=i[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},a=self["webpackChunksvyaz"]=self["webpackChunksvyaz"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(5973)}));a=n.O(a)})();
//# sourceMappingURL=app.ca3f4d5e.js.map