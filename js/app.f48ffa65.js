(function(){"use strict";var e={6256:function(e,t,a){var n=a(9242),r=a(3396);function o(e,t,a,n,o,l){const i=(0,r.up)("Header"),s=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(i,{onSearch:l.search},null,8,["onSearch"]),(0,r.Wm)(s,{searchName:o.searchName},null,8,["searchName"])],64)}var l=a.p+"img/menu.61587210.svg";const i=e=>((0,r.dD)("data-v-3630f9e0"),e=e(),(0,r.Cn)(),e),s={class:"header"},c=i((()=>(0,r._)("img",{src:l},null,-1))),d=[c];function u(e,t,a,n,o,l){const i=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("input",{type:"text",placeholder:"        Поиск",onInput:t[0]||(t[0]=(...e)=>l.searching&&l.searching(...e))},null,32),(0,r.Wm)(i,{class:"nav",to:"/"},{default:(0,r.w5)((()=>[(0,r.Uk)("Home")])),_:1}),(0,r.Wm)(i,{to:"/character"}),(0,r._)("div",{class:"menu",onClick:t[1]||(t[1]=(...e)=>l.openEditMenu&&l.openEditMenu(...e))},d)])}a(560);var h=a(1020),p=a(4161);function m(e,t){let a="";for(let n=e;n<=t;n++)a+=n+",";return p.Z.get("https://rickandmortyapi.com/api/character/"+a)}function g(e){return p.Z.get("https://rickandmortyapi.com/api/character/"+e)}async function f(e){let t={};await p.Z.get("https://rickandmortyapi.com/api/episode/"+e).then((e=>{t.currEpisode=e.data}));let a=t.currEpisode.characters,n=[];return await Promise.allSettled(a.map((e=>p.Z.get(e)))).then((e=>{e.forEach((e=>{let t=/\D/g,a=e.value.data.url.replace(t,"");n.push({characterId:a,img:e.value.data.image,name:e.value.data.name})}))})),t.currImages=n,t}const v=(0,h.Q_)("counter",{state:()=>({characters:[],searchName:null}),getters:{getAll:e=>e.characters,getFiltred:e=>t=>{if(console.log("name--",t),0==t.length)return e.characters;let a=e.characters.filter((e=>{let a=e.name.toLowerCase(),n=a.includes(t.toLowerCase());if(console.log(a,t.toLowerCase(),n),1==n)return!0}));return a}},actions:{setSearch(e){console.log(e),this.searchName=e},getMultipleCharacters(e,t){m(e,t).then((e=>e.data.forEach((e=>{this.characters.push(e)}))))},getCharacter(e){console.log(">>",e),g(e).then((e=>{this.characters=e.data,console.log(">>",this.characters)}))},getEpisode(e){f(e).then((e=>this.currEpisode=e))}}});var w={setup(){const e=v();return{userStore:e}},name:"HeaderMain",methods:{openEditMenu(){console.log("dede"),this.$emit("open-menu")},searching(e){console.log(e.target.value),this.$emit("search",e.target.value)}}},_=a(89);const k=(0,_.Z)(w,[["render",u],["__scopeId","data-v-3630f9e0"]]);var D=k,y={name:"App",components:{Header:D},data(){return{searchName:null}},methods:{search(e){console.log("name>",e),this.searchName=e}}};const b=(0,_.Z)(y,[["render",o]]);var S=b,C=a(2483),E=a(7139);const F=e=>((0,r.dD)("data-v-7fc33b12"),e=e(),(0,r.Cn)(),e),H={class:"contener__input"},O=F((()=>(0,r._)("label",{for:"alive"},"Alive",-1))),z=F((()=>(0,r._)("label",{for:"dead"},"Dead",-1))),L=F((()=>(0,r._)("label",{for:"unknown"},"Unknown",-1))),I={class:"content"},x=["src","alt"],A={class:"content-item__episode"},N=F((()=>(0,r._)("span",null," ",-1)));function Z(e,t,a,o,l,i){const s=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",H,[O,(0,r.wy)((0,r._)("input",{type:"checkbox",name:"alive",id:"1",value:"alive","onUpdate:modelValue":t[0]||(t[0]=e=>l.checkedFields=e),onChange:t[1]||(t[1]=(...e)=>i.select&&i.select(...e))},null,544),[[n.e8,l.checkedFields]]),z,(0,r.wy)((0,r._)("input",{type:"checkbox",name:"dead",id:"2",value:"dead","onUpdate:modelValue":t[2]||(t[2]=e=>l.checkedFields=e),onChange:t[3]||(t[3]=(...e)=>i.select&&i.select(...e))},null,544),[[n.e8,l.checkedFields]]),L,(0,r.wy)((0,r._)("input",{type:"checkbox",name:"unknown",id:"3",value:"unknown","onUpdate:modelValue":t[4]||(t[4]=e=>l.checkedFields=e),onChange:t[5]||(t[5]=(...e)=>i.select&&i.select(...e))},null,544),[[n.e8,l.checkedFields]])]),(0,r._)("div",I,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.data,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e,class:"content__item"},[(0,r.Wm)(s,{to:"/character/"+e.id},{default:(0,r.w5)((()=>[(0,r._)("img",{src:e.image,alt:e.id},null,8,x),(0,r._)("h2",null,(0,E.zw)(e.name),1)])),_:2},1032,["to"]),(0,r._)("div",null,(0,E.zw)(e.species),1),(0,r._)("div",null,"Status: "+(0,E.zw)(e.status),1),(0,r._)("div",A,[(0,r.Uk)(" Episodes:   "),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.getCountLinck(e.episode),(e=>((0,r.wg)(),(0,r.iD)("div",{key:e},[(0,r.Wm)(s,{to:"/episode/"+e},{default:(0,r.w5)((()=>[(0,r.Uk)((0,E.zw)(e),1)])),_:2},1032,["to"]),N])))),128))])])))),128))])],64)}var M={setup(){const e=v();return{userStore:e}},props:{searchName:Object},name:"App",data(){return{from:null,to:null,data:this.userStore.getAll,checkedFields:[],oldDataFiltered:this.userStore.getAll,oldDataSelected:this.userStore.getAll}},mounted(){window.addEventListener("scroll",this.handleScroll),this.userStore.getMultipleCharacters(0,10),this.from=11,this.to=12},watch:{searchName:function(e){this.filter(e)}},methods:{select(){let e=[],t=[];if(console.log(this.oldDataSelected),0==this.checkedFields.length)return this.data=this.oldDataSelected2?this.oldDataSelected2:this.oldDataSelected;function a(e,t){let a=[];return e.forEach((e=>{e.status.toLowerCase()==t&&a.push(e)})),a}this.checkedFields.forEach((n=>{e=[],console.log("--*",n),e=a(this.oldDataSelected,n),console.log(e),t=t.concat(e),console.log(this.data)})),this.data=t,this.oldDataFiltered=this.data},filter(e){let t=this.oldDataFiltered;function a(e){if(0==e.length)return t;let a=t.filter((t=>{let a=t.name.toLowerCase(),n=a.includes(e.toLowerCase());if(console.log(a,e.toLowerCase(),n),1==n)return!0}));return a}this.data=a(e),this.oldDataSelected2=this.oldDataSelected,this.oldDataSelected=this.data},getCountLinck(e){let t=[],a=e.length<5?e.length:5;for(let n=0;n<a;n++){let a=/\D/g,r=e[n].replace(a,"");t.push(r)}return t},handleScroll(){const e=document.body.offsetHeight,t=window.innerHeight,a=window.scrollY,n=e-t/4,r=a+t;r>=n&&(this.userStore.getMultipleCharacters(this.from,this.to),this.from+=2,this.to+=2,console.log(this.from,this.to))}}};const U=(0,_.Z)(M,[["render",Z],["__scopeId","data-v-7fc33b12"]]);var W=U;const Y={key:0},j={key:1,class:"content"},$={class:"content__item"},q=["src"],P=["href"];function K(e,t,a,n,o,l){return(0,r.wg)(),(0,r.iD)(r.HY,null,[o.loading?((0,r.wg)(),(0,r.iD)("span",Y,"Идет загрузка...")):(0,r.kq)("",!0),o.loading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",j,[(0,r._)("h1",null,(0,E.zw)(o.data.name),1),(0,r._)("h2",null,(0,E.zw)(o.data.species),1),(0,r._)("div",$,[(0,r._)("img",{src:o.data.image,alt:"item.name "},null,8,q)]),(0,r.Uk)("Location: "),(0,r._)("a",{href:o.data.location.url},(0,E.zw)(o.data.location.name),9,P)]))],64)}var V={name:"App",data(){return{loading:!1,data:null}},created(){console.log(this.$route.params.id),this.loading=!0,g(this.$route.params.id).then((e=>{this.loading=!1,this.data=e.data,console.log(this.data)}))}};const T=(0,_.Z)(V,[["render",K],["__scopeId","data-v-54becf8e"]]);var B=T;const Q=e=>((0,r.dD)("data-v-d2e38c72"),e=e(),(0,r.Cn)(),e),G={key:0},J={key:1,class:"content"},R=Q((()=>(0,r._)("h1",null,"Episodes",-1))),X={class:"content-img"},ee=["src"];function te(e,t,a,n,o,l){const i=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[o.loading?((0,r.wg)(),(0,r.iD)("span",G,"Идет загрузка...")):(0,r.kq)("",!0),o.loading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",J,[R,(0,r._)("h2",null,'"'+(0,E.zw)(o.data.currEpisode.name)+'"',1),(0,r._)("span",null,(0,E.zw)(o.data.currEpisode.air_date),1),(0,r._)("div",X,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.data.currImages,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e,class:"content__item"},[(0,r.Wm)(i,{to:"/character/"+e.characterId},{default:(0,r.w5)((()=>[(0,r._)("img",{src:e.img,alt:"item.name ",class:""},null,8,ee),(0,r._)("span",null,(0,E.zw)(e.name),1)])),_:2},1032,["to"])])))),128))])]))],64)}var ae={name:"App",data(){return{data:null,loading:!1}},created(){this.loading=!0,f(this.$route.params.id).then((e=>{this.loading=!1,this.data=e,this.data.currImages}))}};const ne=(0,_.Z)(ae,[["render",te],["__scopeId","data-v-d2e38c72"]]);var re=ne;const oe=[{path:"/",name:"home",component:W},{path:"/character/:id",name:"character",component:B},{path:"/episode/:id",name:"episode",component:re}],le=(0,C.p7)({history:(0,C.PO)("/"),routes:oe});var ie=le;(0,n.ri)(S).use(ie).use((0,h.WB)()).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var l=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],o=e[d][2];for(var i=!0,s=0;s<n.length;s++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(i=!1,o<l&&(l=o));if(i){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,l=n[0],i=n[1],s=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(s)var d=s(a)}for(t&&t(n);c<l.length;c++)o=l[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},n=self["webpackChunksvyaz"]=self["webpackChunksvyaz"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(6256)}));n=a.O(n)})();
//# sourceMappingURL=app.f48ffa65.js.map